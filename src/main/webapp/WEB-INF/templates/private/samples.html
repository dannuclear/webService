<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:mvc="http://www.springframework.org/schema/mvc" layout:decorate="~{layout.html}">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Insert title here</title>

</head>
<body>
<div layout:fragment="content">
    <table id="sampleTable" class="table table-striped table-hover table-bordered table-sm" style="width: 100%">
    </table>

    <script type="text/javascript" th:inline="javascript">
        $(document)
            .ready(
                function () {
                    $('#sampleTable')
                        .DataTable(
                            {
                                ajax: {
                                    url: /*[[@{/api/v1/samples}]]*/""
                                },
                                columns: [
                                    {
                                        title: 'Id',
                                        data: 'id',
                                        width: '2rem'
                                    },
                                    {
                                        title: 'Код',
                                        data: 'code',
                                        width: '5rem'
                                    },
                                    {
                                        title: 'Наименование',
                                        data: 'name',
                                        width: '20rem',
                                    },
                                    {
                                        title: 'Дата и время отбора',
                                        data: 'selectionDateTime',
                                        width: '12rem'
                                    },
                                    {
                                        title: "",
                                        data: null,
                                        defaultContent: "",
                                        orderable: false
                                    },
                                    {
                                        title: "",
                                        data: null,
                                        width: "4px",
                                        className: "dt-center editor-edit align-middle",
                                        render: function (data, type, row, meta) {
                                            return '<a href=[[@{/private/samples/' + data.id + '}]] class="text-info bi bi-pencil h4"></a>'
                                        },
                                        orderable: false
                                    },
                                    {
                                        title: "",
                                        data: null,
                                        width: "4px",
                                        className: "dt-center editor-delete align-middle",
                                        render: function (data, type, row, meta) {
                                            return '<a href=[[@{/private/samples/delete/' + data.id + '}]] onclick="return DeleteFunction(\'Удалить пробу?\');" class="text-danger bi bi-trash h4"></a>'
                                        },
                                        orderable: false
                                    }],
                                columnDefs: [{
                                    className: 'text-center',
                                    targets: '_all'
                                }, {
                                    targets: [2],
                                    createdCell: function (td, cellData, rowData, row, col) {
                                        $(td).addClass("small text-right");
                                    }
                                }],
                            });
                    $('div.toolbar')
                        .html(
                            '<a class="btn btn-outline-dark btn-sm bi bi-person-plus" href=[[@{/private/samples/0}]]>&nbsp;Создать</a>');
                });
    </script>
</div>
</body>
</html>